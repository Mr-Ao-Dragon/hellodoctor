# 文档

## 数据字典

用户状态（status）

| 码值 | 标签  |  备注   |
|:--:|:---:|:-----:|
| 0  | 非医生 |       |
| 1  | 启用  |       |
| 5  | 停用  | 用于离职等 |

预约状态（status）

| 码值 | 标签    | 备注 |
|----|-------|----|
| 0  | -     |    |
| 1  | 用户已发起 |    |
| 2  | 医生已核销 |    |
| 5  | 过期未核销 |    |
| 6  | 用户已取消 |    |
| 7  | 医生已取消 |    |

## 基础配置

1. 地址：dev.api.hellodoctor.gayserver.top
2. 接口类型：
3. Header：
   |键|值|
   |-|-|
   |Authorization|Bearer+" "+token|
   |Content-type|application|
4. 统一返回
   |字段|说明|
   |-|-|
   |code|状态码|
   |msg|操作提示|
   |data|返回结果|

## 接口说明

### 系统登陆认证

请求参数

| 键     | 类型     | 说明                           |
|-------|--------|------------------------------|
| token | string | 微信调用一键登录返回的 TOKEN，在后端换取 WXID |

接口返回
| 键           | 类型   | 说明                |
|--------------|--------|-------------------|
| access_token | string | 系统 token         |
| expires_in   | num    | token 有效期时间戳   |

| 键            | 类型     | 说明           |
|--------------|--------|--------------|
| access_token | string | 系统 token     |
| expires_in   | num    | token 有效期时间戳 |


### 首页医生列表

不需携带 token

请求参数

无

接口返回
| 键 | 类型 | 说明 |
|----|---|---|
|doc_name|string|医生姓名|
|doc_avatar|string|医生头像|
|doc_id|number|医生 id|

示例：

```json
{
   "code": 200,
   "msg": "操作成功",
   "data": [
      {
         "name": "王医生",
         "avatar": "https://www.baidu.com",
         "id": 1
      },
      {
         "name": "李医生",
         "avatar": "https://www.baidu.com",
         "id": 2
      }
   ]
}
```

### 首页信息

不需携带 token，返回轮播图和通知

请求参数

无

接口返回示例：

```json
{
   "code": 200,
   "msg": "操作成功",
   "data": {
      "lunbotu": [
         "https://www.baidu.com",
         "https://www.baidu.com"
      ],
      "notice": [
         "上班时间：周一至周五9：00-17：00"
      ]
   }
}
```

### 用户预约医生

请求参数

| 键      | 类型     | 说明 |
|--------|--------|----|
| name   | string | 姓名 |
| mobile | number | 电话 |
| time   | number | 时间 |

接口返回

无，操作成功即可

### 用户预约列表

请求参数

无，验证 token 即可

接口返回

| 键          | 类型     | 说明      |
|------------|--------|---------|
| id         | number | 预约单号 id |
| doc_name   | string | 医生姓名    |
| doc_avatar | string | 医生头像    |
| doc_id     | number | 医生 id   |
| name       | string | 预约姓名    |
| mobile     | number | 预约电话    |
| time       | number | 预约时间    |
| status     | number | 预约状态    |

接口示例：

```json
{
   "code": 200,
   "msg": "操作成功",
   "data": [
      {
         "id": 1,
         "doc_name": "王医生",
         "doc_avatar": "https://www.baidu.com",
         "doc_id": 1,
         "name": "张三",
         "mobile": 1388888888,
         "time": 1615945600,
         "status": 1
      }
   ]
}
```

### 用户取消预约

请求参数

| 键  | 类型     | 说明      |
|----|--------|---------|
| id | number | 预约单号 id |

接口返回

无，操作成功即可

### 医生获取被预约列表

请求参数

无

接口返回

| 键      | 类型     | 说明      |
|--------|--------|---------|
| id     | number | 预约单号 id |
| name   | string | 预约姓名    |
| mobile | number | 预约电话    |
| time   | number | 预约时间    |
| status | number | 预约状态    |

接口示例：

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "name": "张三",
      "mobile": 1388888888,
      "time": 1615945600,
      "status": 1
    }
  ]
}
```

### 医生修改订单状态或删除订单

请求参数

| 键      | 类型     | 说明      |
|--------|--------|---------|
| id     | number | 预约单号 id |
| status | number | 预约状态    |

接口返回

无，操作成功即可

### 管理员获取用户列表

请求参数

无

接口返回

| 键          | 类型     | 说明     |
|------------|--------|--------|
| id         | number | 用户id   |
| name       | string | 用户微信昵称 |
| doc_name   | string | 医生姓名   |
| doc_avatar | string | 医生头像   |
| status     | number | 用户状态   |

### 管理员修改用户状态

请求参数
| 键         | 类型   | 说明        |
| ---------- | ------ | ----------- |
|id|number|用户id|
|doc_name|string|医生姓名|
|doc_avatar|string|医生头像|
|status|number|用户状态|

接口返回

无，操作成功即可
